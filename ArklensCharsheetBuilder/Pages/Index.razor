@using Microsoft.AspNetCore.Components.Forms
@page "/"

<PageTitle>Лист персонажа</PageTitle>
<h1>Генератор листа персонажа</h1>
<p>
    На этой странице можно создать лист персонажа Аркленс с вашим портретом.
</p>

<p>
    Можете выбрать портрет из стандартных для вашей расы и пола:
    <select onchange="@ChooseDefaultPortrait">
        @foreach (var portrait in DefaultPortraitUrls)
        {
            <option value="@portrait.Value">@portrait.Key</option>
        }
    </select>
</p>

<p>
    Либо загрузите свой портрет
    <InputFile OnChange="@HandleFile" accept="image/*">Загрузите портрет</InputFile><br/>
</p>

<p>
    Эта кнопка очищает портрет <button onclick="@DropImage">🗑️</button>
</p>

<p>
    <InputText @bind-Value="@_fileName"/> Можете написать здесь названия скачиваемых файлов
</p>

<InputCheckbox @bind-Value="_includeFront" disabled="@(!_includeBack)"/> Загрузить переднюю часть
<InputCheckbox @bind-Value="_includeBack" disabled="@(!_includeFront)"/> Загрузить заднюю часть

<div class="portrait-container">
    <div style="background-image: url(@GetPortraitData())" class="portrait"></div>
</div><br/>
<button onclick="@DownloadFile">💾</button>
<p>
    Лист персонажа это лист А4 распечатанный с двух сторон. Вы можете скачать его целиком (оставьте обе галочки) в zip,
    либо по отдельности (выберите одну галочку). Очень желательно печатать в цвете, так как я использую навигацию 
    по эмоджи, с ними будет сложнее в ЧБ.
</p>
<p>
    Передняя сторона содержит портрет персонажа, задняя всегда будет одинаковая.
</p>
<p>
    Скачивается он в svg по ряду причин, вы можете открыть SVG в браузере и сохранить в PDF, если вам вдруг нужно.
    Я советую сделать именно так, ибо SVG и особенно эмоджи зависят от системы пользователя (на андроиде, вин10 и вин11
    эмоджи выглядят очень по-разному).
</p>

<p>
    <img src="https://i.pinimg.com/originals/67/e5/e2/67e5e258f7c982e6154271b92aa5a65f.jpg" alt="Котенок" class="cat"/>
</p>
Просто смешной котенок